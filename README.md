# ExpTrac - Expense Tracking Application

ExpTrac is a privacy-focused, offline-first iOS application for tracking expenses. It leverages on-device OCR and AI for categorizing expenses from receipts and supports manual and voice entry.

## Project Structure

- `/app`: Contains the React Native (Expo) application for the iOS UI.
  - `/app/e2e`: Detox end-to-end tests.
  - `/app/src`: Main source code for the Expo app (components, screens, services, etc.).
  - `Dockerfile`, `docker-compose.yml`: For containerized development environment.
- `/Exp_Trac`: Contains the native iOS project (Swift modules for Vision, Speech, Core ML, Keychain).
  - `/Exp_Trac/CoreML`: Core ML models and related code.
  - `/Exp_Trac/Keychain`: Secure key storage.
  - `/Exp_Trac/Speech`: Speech recognition modules.
  - `/Exp_Trac/Vision`: OCR and image processing modules.
- `/scripts`: Contains utility scripts, PRD, and reports.
  - `prd.txt`: Product Requirements Document.
  - `task-complexity-report.json`: Task complexity analysis.
- `/tasks`: Task management files (generated by Task Master).
  - `tasks.json`: Main tasks file.
  - `task_xxx.txt`: Individual task details.

## Getting Started

### Prerequisites

- Node.js (LTS version recommended)
- npm
- Xcode and Command Line Tools
- Cocoapods
- Watchman (for React Native)
- Docker Desktop (optional, for containerized development)
- Expo CLI (`npm install -g expo-cli`)
- EAS CLI (`npm install -g eas-cli`)
- Detox CLI (`npm install -g detox-cli`)

### Setup - Expo App (`/app` directory)

1.  Navigate to the `app` directory: `cd app`
2.  Install dependencies: `npm install`
3.  To run the app on an iOS simulator/device:
    - Start the Metro bundler: `npm start` (or `expo start`)
    - In another terminal, run: `npm run ios` (or `expo run:ios`)

### Setup - Native iOS Project (`/Exp_Trac` directory)

1.  Navigate to the `Exp_Trac/ios` directory (or equivalent for the Xcode project, typically `/Exp_Trac/Exp Trac.xcodeproj`).
2.  Open `Exp Trac.xcworkspace` in Xcode.
3.  Install Pods: `cd ios && pod install` (if not already handled by Expo or if making native changes).
4.  Build and run from Xcode.

### Dockerized Development (for `/app`)

1.  Ensure Docker Desktop is running.
2.  Navigate to the `app` directory: `cd app`
3.  Build the Docker image: `npm run docker:build`
4.  Start the development environment: `npm run docker:up`
    - The Expo development server will start inside the container.
    - Access it via the forwarded ports (e.g., `http://localhost:8081` for Metro).
5.  To stop the environment: `npm run docker:down`

## Common Development Tasks

-   **Linting & Formatting**: ESLint and Prettier are configured. Ensure your editor integrates with them or run format scripts if added.
-   **Running E2E Tests (Detox)**:
    -   Ensure an iOS simulator is running.
    -   From the `app` directory:
        -   Build the debug app for Detox: `npm run build:e2e:ios-debug`
        -   Run tests: `npm run test:e2e:ios-debug`
-   **Building with EAS Build**:
    -   Login to EAS: `eas login`
    -   Configure build profiles in `eas.json`.
    -   Start a build: `eas build -p ios --profile <profile_name>`

## Contribution Guidelines

-   Follow existing code style (ESLint/Prettier).
-   Write tests for new features/bug fixes.
-   Update documentation as needed.
-   Use Task Master for tracking tasks (see `/tasks` and `scripts/prd.txt`).

## Architectural Decisions

-   **Offline-first**: Core functionality (expense entry, OCR, categorization) is designed to work offline.
-   **Privacy-focused**: Sensitive data is processed and stored on-device. No unnecessary data collection.
-   **Feature Flags**: A system for toggling features is implemented (details TBD based on `/app/src/...`).
-   **Native Modules**: Heavy processing (Vision, Core ML, Secure Storage) is delegated to native Swift modules for performance and security.
-   **Task Management**: Project managed using Task Master.

## Deployment

-   iOS builds are managed via Expo Application Services (EAS Build).
-   Refer to `eas.json` for build profiles. # Exp_Trac
# Exp_Trac
